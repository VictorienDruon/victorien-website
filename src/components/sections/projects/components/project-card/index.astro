---
import * as styles from "./styles";
import Link from "@/components/ui/link/index.astro";
import Icon from "@/components/ui/icon/index.astro";
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";

type Props = {
	project: CollectionEntry<"projects">;
};

const { project } = Astro.props;
const { title, summary, visuals } = project.data;
---

<Link href={`/projects/${project.slug}`} isText={false}>
	<div class={styles.container}>
		{
			visuals ? (
				<Image
					src={visuals[0].src}
					alt={visuals[0].alt}
					draggable={false}
					class={styles.backdrop}
				/>
			) : (
				<div class={styles.backdrop} />
			)
		}

		<div>
			<div class={styles.header}>
				<h3 class={styles.title}>{title}</h3>
				<Icon name="Plus" size="lg" stroke-width="1.5" />
			</div>

			<p class={styles.summary}>{summary}</p>
		</div>
	</div>
</Link>
